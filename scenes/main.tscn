[gd_scene load_steps=4 format=3 uid="uid://dxdx73k3pcw5t"]

[ext_resource type="Script" uid="uid://drv52qxljc4b0" path="res://scripts/presentation_manager.gd" id="1_o5qli"]
[ext_resource type="PackedScene" uid="uid://duimm05pw8ngk" path="res://scenes/prefabs/slide_button.tscn" id="2_0wfyh"]
[ext_resource type="PackedScene" uid="uid://dt8k4dbtsyj0o" path="res://scenes/prefabs/page_subviewport.tscn" id="3_sugp2"]

[node name="Main" type="VBoxContainer" node_paths=PackedStringArray("main_slide_sorter", "main_slide_scroll", "slide_buttons_sorter", "text_editor", "themes_view", "slides_view")]
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_o5qli")
test_file = "res://test/presentation.md"
config_file = "res://templates/gummy/meta.ini"
main_slide_sorter = NodePath("Slides View/Main/Margins/Slides")
main_slide_scroll = NodePath("Slides View/Main")
slide_buttons_sorter = NodePath("Slides View/Slides/ScrollContainer/Sorter")
text_editor = NodePath("Editor")
themes_view = NodePath("Themes")
slides_view = NodePath("Slides View")
slide_button_scene = ExtResource("2_0wfyh")
page_subviewport = ExtResource("3_sugp2")

[node name="Navbar" type="PanelContainer" parent="."]
layout_mode = 2
size_flags_vertical = 3
size_flags_stretch_ratio = 0.1

[node name="Sorter" type="HBoxContainer" parent="Navbar"]
layout_mode = 2

[node name="Left" type="HBoxContainer" parent="Navbar/Sorter"]
layout_mode = 2
size_flags_horizontal = 3

[node name="file" type="MenuButton" parent="Navbar/Sorter/Left"]
layout_mode = 2
text = "file"
item_count = 4
popup/item_0/text = "Open Markdown File"
popup/item_0/id = 0
popup/item_1/text = "Save Markdown File"
popup/item_1/id = 1
popup/item_2/text = "Open New Markdown File (no undo!)"
popup/item_2/id = 2
popup/item_3/text = "Exit"
popup/item_3/id = 3

[node name="view" type="MenuButton" parent="Navbar/Sorter/Left"]
layout_mode = 2
text = "view"

[node name="Center" type="HBoxContainer" parent="Navbar/Sorter"]
layout_mode = 2
size_flags_horizontal = 3
alignment = 1

[node name="Tabs" type="TabBar" parent="Navbar/Sorter/Center"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 4
current_tab = 0
tab_alignment = 1
tab_count = 3
tab_0/title = "slides"
tab_1/title = "edit"
tab_2/title = "themes"

[node name="Right" type="HBoxContainer" parent="Navbar/Sorter"]
layout_mode = 2
size_flags_horizontal = 3
alignment = 2

[node name="Refresh" type="Button" parent="Navbar/Sorter/Right"]
layout_mode = 2
text = "refresh"

[node name="Slides View" type="HBoxContainer" parent="."]
layout_mode = 2
size_flags_vertical = 3

[node name="Slides" type="PanelContainer" parent="Slides View"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_stretch_ratio = 0.2

[node name="ScrollContainer" type="ScrollContainer" parent="Slides View/Slides"]
layout_mode = 2

[node name="Sorter" type="VBoxContainer" parent="Slides View/Slides/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Main" type="ScrollContainer" parent="Slides View"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
horizontal_scroll_mode = 0

[node name="Margins" type="MarginContainer" parent="Slides View/Main"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/margin_left = 50
theme_override_constants/margin_top = 50
theme_override_constants/margin_right = 50
theme_override_constants/margin_bottom = 50

[node name="Slides" type="VBoxContainer" parent="Slides View/Main/Margins"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Editor" type="TextEdit" parent="."]
visible = false
layout_mode = 2
size_flags_vertical = 3
placeholder_text = "Basic markdown syntax such at italic are supported here."

[node name="Themes" type="SplitContainer" parent="."]
visible = false
layout_mode = 2
size_flags_vertical = 3

[connection signal="tab_changed" from="Navbar/Sorter/Center/Tabs" to="." method="_on_tabs_tab_changed"]
[connection signal="pressed" from="Navbar/Sorter/Right/Refresh" to="." method="refresh"]
